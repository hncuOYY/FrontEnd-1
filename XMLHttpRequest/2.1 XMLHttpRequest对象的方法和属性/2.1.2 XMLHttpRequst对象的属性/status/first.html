<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- 
        XMLHttpRequst对象的属性:
            readyState: 该属性用于获取XMLHttpRequest对象的处理状态
                0: 还未开始发送请求
                1: 开始发送请求
                2: 请求发送完成
                3: 开始读取服务器的响应
                4: 读取服务器响应结束
            
            responseType: 该属性用于设置服务器返回的响应类型
            response: 该属性用于获取服务器响应
            不同的responseType对应的不同的response
                ""                      返回DOMString, 这是默认值
                "arraybuffer"           返回ArrayBuffer二进制数据
                "blob"                  返回Blob对象
                "document"              返回document对象, 与responseXML返回值相同
                "json"                  返回JavaScript对象, 该对象通过解析服务器响应的JSON字符串得到
                "text"                  返回DOMString, 这是默认值

            responseText: 该属性用于获取服务器的响应文本
            responseXML: 该属性用于获取服务器响应的XML文档对象
            responseURL: 该属性返回服务器响应来自的URL
            status: 该属性是服务器返回的状态码, 只有服务器的响应已经完成时, 才会有该状态码
            statusText: 该属性是服务器返回的状态文本信息, 只有当服务器的响应已经完成时, 才会有该状态文本信息
            timeout: 设置XMLHttpRequest对象发送请求的超时时长, 以ms为单位
            ontimeout: 绑定事件处理函数的属性, 该属性用于指定XMLHttpRequest对象发送请求超时后触发的事件处理函数
            upload: 该属性返回XMLHttpRequest对象的上传进度, 通过为该对象的progress事件注册事件处理函数, 可以
                    实时监听XMLHttpRequest对象的上传进度
            withCredentials: 该属性设置跨站点访问的请求是否应该使用安全凭证

            服务器常用的状态码及其对应的含义如下: 
                200: 服务器响应正常
                304: 该资源在上次请求之后没有任何修改, 这通常用于浏览器的缓存机制, 使用GET请求时尤其需要注意
                400: 服务器不理解请求的语法
                401: 访问资源的权限不够
                403: 没有权限访问资源
                404: 需要访问的资源不存在
                405: 需要访问的资源被禁止访问
                407: 访问资源需要代理身份验证
                414: 请求的URL太长
                500: 服务器内部错误
     -->
     <select name="first" id="first">
         <option value="1" selected>中国</option>
         <option value="2">美国</option>
         <option value="3">日本</option>
     </select>
     <div id="output"></div>
     
     <script>
        var select = document.getElementById("first");
        
         // 创建XMLHttpRequest对象
         var xhr = new XMLHttpRequest();

        select.onchange = function() {
            var id = this.value;

            // 设置请求响应的URL
            var url = "second_bk.jsp?id=" + id;

            // 打开与服务器响应地址的连接
            xhr.open("POST", url, true)
            
            // 设置请求头
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

            // 设置处理响应的回调函数
            xhr.onload = function() {
                // 输出服务器相应的状态码和状态提示
                alert(xhr.status + "\n" + xhr.statusText);
            };

            // 发送请求
            xhr.send(null);
        }

     </script>
</body>
</html>